// ER Diagram
digraph {
	rankdir=TB
	node [shape=plaintext style="rounded,filled"]
	graph [nodesep=1.0 ranksep=1.5 splines=polyline]
	edge [arrowsize=0.8]
	credit_card_transaction [label=<<TABLE BORDER="2" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4"><TR><TD BGCOLOR="#4A90E2" COLSPAN="2"><B><FONT COLOR="white">credit_card_transaction</FONT></B></TD></TR><TR><TD ALIGN="LEFT"><B>transaction_id</B></TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">card_id (FK)</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">merchant_id (FK)</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">mcc_id (FK)</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">transaction_datetime</TD><TD ALIGN="LEFT">DATETIME</TD></TR><TR><TD ALIGN="LEFT">amount_usd</TD><TD ALIGN="LEFT">FLOAT</TD></TR><TR><TD ALIGN="LEFT">exchange_rate</TD><TD ALIGN="LEFT">FLOAT</TD></TR><TR><TD ALIGN="LEFT">country_id (FK)</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">card_home_country_id (FK)</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">risk_profile_id (FK)</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">is_chip_transaction</TD><TD ALIGN="LEFT">BOOL</TD></TR><TR><TD ALIGN="LEFT">amount_local_currency</TD><TD ALIGN="LEFT">FLOAT</TD></TR><TR><TD ALIGN="LEFT">is_cross_border</TD><TD ALIGN="LEFT">BOOL</TD></TR><TR><TD ALIGN="LEFT">days_since_previous_txn</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">avg_amount_last_7d</TD><TD ALIGN="LEFT">FLOAT</TD></TR><TR><TD ALIGN="LEFT">velocity_score</TD><TD ALIGN="LEFT">FLOAT</TD></TR><TR><TD ALIGN="LEFT">high_risk_mcc_flag</TD><TD ALIGN="LEFT">BOOL</TD></TR><TR><TD ALIGN="LEFT">fraud_risk_score</TD><TD ALIGN="LEFT">FLOAT</TD></TR></TABLE>> color="#4A90E2" fillcolor="#E8F4F8" style="rounded,filled"]
	dim_card [label=<<TABLE BORDER="2" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4"><TR><TD BGCOLOR="#7CB342" COLSPAN="2"><B><FONT COLOR="white">dim_card</FONT></B></TD></TR><TR><TD ALIGN="LEFT"><B>card_id</B></TD><TD ALIGN="LEFT">INT</TD></TR></TABLE>> color="#7CB342" fillcolor="#F0F8E8" style="rounded,filled"]
	dim_merchant [label=<<TABLE BORDER="2" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4"><TR><TD BGCOLOR="#7CB342" COLSPAN="2"><B><FONT COLOR="white">dim_merchant</FONT></B></TD></TR><TR><TD ALIGN="LEFT"><B>merchant_id</B></TD><TD ALIGN="LEFT">INT</TD></TR></TABLE>> color="#7CB342" fillcolor="#F0F8E8" style="rounded,filled"]
	dim_mcc [label=<<TABLE BORDER="2" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4"><TR><TD BGCOLOR="#7CB342" COLSPAN="2"><B><FONT COLOR="white">dim_mcc</FONT></B></TD></TR><TR><TD ALIGN="LEFT"><B>mcc_id</B></TD><TD ALIGN="LEFT">INT</TD></TR></TABLE>> color="#7CB342" fillcolor="#F0F8E8" style="rounded,filled"]
	dim_country [label=<<TABLE BORDER="2" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4"><TR><TD BGCOLOR="#7CB342" COLSPAN="2"><B><FONT COLOR="white">dim_country</FONT></B></TD></TR><TR><TD ALIGN="LEFT"><B>country_id</B></TD><TD ALIGN="LEFT">INT</TD></TR></TABLE>> color="#7CB342" fillcolor="#F0F8E8" style="rounded,filled"]
	dim_risk_profile [label=<<TABLE BORDER="2" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4"><TR><TD BGCOLOR="#7CB342" COLSPAN="2"><B><FONT COLOR="white">dim_risk_profile</FONT></B></TD></TR><TR><TD ALIGN="LEFT"><B>risk_profile_id</B></TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">base_risk_score</TD><TD ALIGN="LEFT">FLOAT</TD></TR><TR><TD ALIGN="LEFT">high_amount_threshold</TD><TD ALIGN="LEFT">FLOAT</TD></TR></TABLE>> color="#7CB342" fillcolor="#F0F8E8" style="rounded,filled"]
	credit_card_transaction -> dim_card [label=card_id arrowhead=crow color=black style=dashed]
	credit_card_transaction -> dim_merchant [label=merchant_id arrowhead=crow color=black style=dashed]
	credit_card_transaction -> dim_mcc [label=mcc_id arrowhead=crow color=black style=dashed]
	credit_card_transaction -> dim_country [label=country_id arrowhead=crow color=black style=dashed]
	credit_card_transaction -> dim_country [label=card_home_country_id arrowhead=crow color=black style=dashed]
	credit_card_transaction -> dim_risk_profile [label=risk_profile_id arrowhead=crow color=black style=dashed]
}
