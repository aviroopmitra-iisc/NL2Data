// ER Diagram
digraph {
	rankdir=TB
	node [shape=plaintext style="rounded,filled"]
	graph [nodesep=1.0 ranksep=1.5 splines=polyline]
	edge [arrowsize=0.8]
	web_sessions [label=<<TABLE BORDER="2" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4"><TR><TD BGCOLOR="#4A90E2" COLSPAN="2"><B><FONT COLOR="white">web_sessions</FONT></B></TD></TR><TR><TD ALIGN="LEFT"><B>session_id</B></TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">user_id (FK)</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">device_id (FK)</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">referrer_id (FK)</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">landing_page_id (FK)</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">session_start_ts</TD><TD ALIGN="LEFT">DATETIME</TD></TR><TR><TD ALIGN="LEFT">session_end_ts</TD><TD ALIGN="LEFT">DATETIME</TD></TR><TR><TD ALIGN="LEFT">session_duration_seconds</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">pageview_count</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">event_count</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">bot_detection_score</TD><TD ALIGN="LEFT">FLOAT</TD></TR><TR><TD ALIGN="LEFT">is_high_confidence_bot</TD><TD ALIGN="LEFT">BOOL</TD></TR><TR><TD ALIGN="LEFT">funnel_exit_stage</TD><TD ALIGN="LEFT">TEXT</TD></TR><TR><TD ALIGN="LEFT">converted_to_purchase</TD><TD ALIGN="LEFT">BOOL</TD></TR><TR><TD ALIGN="LEFT">products_viewed_count</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">max_funnel_stage_reached</TD><TD ALIGN="LEFT">TEXT</TD></TR><TR><TD ALIGN="LEFT">session_start_hour</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">session_start_day_of_week</TD><TD ALIGN="LEFT">INT</TD></TR></TABLE>> color="#4A90E2" fillcolor="#E8F4F8" style="rounded,filled"]
	session_product_view [label=<<TABLE BORDER="2" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4"><TR><TD BGCOLOR="#4A90E2" COLSPAN="2"><B><FONT COLOR="white">session_product_view</FONT></B></TD></TR><TR><TD ALIGN="LEFT"><B>session_id</B></TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT"><B>product_id</B></TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT"><B>view_ts</B></TD><TD ALIGN="LEFT">DATETIME</TD></TR><TR><TD ALIGN="LEFT">view_duration_seconds</TD><TD ALIGN="LEFT">INT</TD></TR></TABLE>> color="#4A90E2" fillcolor="#E8F4F8" style="rounded,filled"]
	dim_user [label=<<TABLE BORDER="2" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4"><TR><TD BGCOLOR="#7CB342" COLSPAN="2"><B><FONT COLOR="white">dim_user</FONT></B></TD></TR><TR><TD ALIGN="LEFT"><B>user_id</B></TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">user_email</TD><TD ALIGN="LEFT">TEXT</TD></TR><TR><TD ALIGN="LEFT">signup_date</TD><TD ALIGN="LEFT">DATE</TD></TR><TR><TD ALIGN="LEFT">country</TD><TD ALIGN="LEFT">TEXT</TD></TR><TR><TD ALIGN="LEFT">primary_device_type</TD><TD ALIGN="LEFT">TEXT</TD></TR></TABLE>> color="#7CB342" fillcolor="#F0F8E8" style="rounded,filled"]
	dim_device [label=<<TABLE BORDER="2" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4"><TR><TD BGCOLOR="#7CB342" COLSPAN="2"><B><FONT COLOR="white">dim_device</FONT></B></TD></TR><TR><TD ALIGN="LEFT"><B>device_id</B></TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">device_type</TD><TD ALIGN="LEFT">TEXT</TD></TR><TR><TD ALIGN="LEFT">operating_system</TD><TD ALIGN="LEFT">TEXT</TD></TR><TR><TD ALIGN="LEFT">browser</TD><TD ALIGN="LEFT">TEXT</TD></TR></TABLE>> color="#7CB342" fillcolor="#F0F8E8" style="rounded,filled"]
	dim_referrer [label=<<TABLE BORDER="2" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4"><TR><TD BGCOLOR="#7CB342" COLSPAN="2"><B><FONT COLOR="white">dim_referrer</FONT></B></TD></TR><TR><TD ALIGN="LEFT"><B>referrer_id</B></TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">referrer_type</TD><TD ALIGN="LEFT">TEXT</TD></TR><TR><TD ALIGN="LEFT">referrer_domain</TD><TD ALIGN="LEFT">TEXT</TD></TR><TR><TD ALIGN="LEFT">campaign_code</TD><TD ALIGN="LEFT">TEXT</TD></TR></TABLE>> color="#7CB342" fillcolor="#F0F8E8" style="rounded,filled"]
	dim_page [label=<<TABLE BORDER="2" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4"><TR><TD BGCOLOR="#7CB342" COLSPAN="2"><B><FONT COLOR="white">dim_page</FONT></B></TD></TR><TR><TD ALIGN="LEFT"><B>page_id</B></TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">page_url</TD><TD ALIGN="LEFT">TEXT</TD></TR><TR><TD ALIGN="LEFT">page_type</TD><TD ALIGN="LEFT">TEXT</TD></TR><TR><TD ALIGN="LEFT">is_funnel_stage</TD><TD ALIGN="LEFT">BOOL</TD></TR><TR><TD ALIGN="LEFT">funnel_stage_order</TD><TD ALIGN="LEFT">INT</TD></TR></TABLE>> color="#7CB342" fillcolor="#F0F8E8" style="rounded,filled"]
	dim_product [label=<<TABLE BORDER="2" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4"><TR><TD BGCOLOR="#7CB342" COLSPAN="2"><B><FONT COLOR="white">dim_product</FONT></B></TD></TR><TR><TD ALIGN="LEFT"><B>product_id</B></TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">product_name</TD><TD ALIGN="LEFT">TEXT</TD></TR><TR><TD ALIGN="LEFT">category</TD><TD ALIGN="LEFT">TEXT</TD></TR><TR><TD ALIGN="LEFT">price</TD><TD ALIGN="LEFT">FLOAT</TD></TR></TABLE>> color="#7CB342" fillcolor="#F0F8E8" style="rounded,filled"]
	web_sessions -> dim_user [label=user_id arrowhead=crow color=black style=dashed]
	web_sessions -> dim_device [label=device_id arrowhead=crow color=black style=dashed]
	web_sessions -> dim_referrer [label=referrer_id arrowhead=crow color=black style=dashed]
	web_sessions -> dim_page [label=landing_page_id arrowhead=crow color=black style=dashed]
	session_product_view -> web_sessions [label=session_id arrowhead=crow color=black style=dashed]
	session_product_view -> dim_product [label=product_id arrowhead=crow color=black style=dashed]
}
