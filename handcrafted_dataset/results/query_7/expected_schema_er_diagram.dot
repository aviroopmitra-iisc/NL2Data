// ER Diagram
digraph {
	rankdir=TB
	node [shape=plaintext style="rounded,filled"]
	graph [nodesep=1.0 ranksep=1.5 splines=polyline]
	edge [arrowsize=0.8]
	purchase_order [label=<<TABLE BORDER="2" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4"><TR><TD BGCOLOR="#4A90E2" COLSPAN="2"><B><FONT COLOR="white">purchase_order</FONT></B></TD></TR><TR><TD ALIGN="LEFT"><B>po_id</B></TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">supplier_id (FK)</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">product_id (FK)</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">warehouse_id (FK)</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">order_date</TD><TD ALIGN="LEFT">DATE</TD></TR><TR><TD ALIGN="LEFT">expected_arrival_date</TD><TD ALIGN="LEFT">DATE</TD></TR><TR><TD ALIGN="LEFT">ordered_quantity</TD><TD ALIGN="LEFT">INT</TD></TR></TABLE>> color="#4A90E2" fillcolor="#E8F4F8" style="rounded,filled"]
	customer_order [label=<<TABLE BORDER="2" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4"><TR><TD BGCOLOR="#4A90E2" COLSPAN="2"><B><FONT COLOR="white">customer_order</FONT></B></TD></TR><TR><TD ALIGN="LEFT"><B>order_id</B></TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">customer_region_id (FK)</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">order_date</TD><TD ALIGN="LEFT">DATE</TD></TR></TABLE>> color="#4A90E2" fillcolor="#E8F4F8" style="rounded,filled"]
	customer_order_line [label=<<TABLE BORDER="2" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4"><TR><TD BGCOLOR="#4A90E2" COLSPAN="2"><B><FONT COLOR="white">customer_order_line</FONT></B></TD></TR><TR><TD ALIGN="LEFT"><B>order_line_id</B></TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">order_id (FK)</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">product_id (FK)</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">ordered_quantity</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">backordered_quantity</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">promotion_id (FK)</TD><TD ALIGN="LEFT">INT</TD></TR></TABLE>> color="#4A90E2" fillcolor="#E8F4F8" style="rounded,filled"]
	shipment [label=<<TABLE BORDER="2" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4"><TR><TD BGCOLOR="#4A90E2" COLSPAN="2"><B><FONT COLOR="white">shipment</FONT></B></TD></TR><TR><TD ALIGN="LEFT"><B>shipment_id</B></TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">po_id (FK)</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">warehouse_id (FK)</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">shipped_date</TD><TD ALIGN="LEFT">DATE</TD></TR><TR><TD ALIGN="LEFT">arrival_date</TD><TD ALIGN="LEFT">DATE</TD></TR></TABLE>> color="#4A90E2" fillcolor="#E8F4F8" style="rounded,filled"]
	inventory_snapshot [label=<<TABLE BORDER="2" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4"><TR><TD BGCOLOR="#4A90E2" COLSPAN="2"><B><FONT COLOR="white">inventory_snapshot</FONT></B></TD></TR><TR><TD ALIGN="LEFT"><B>snapshot_date</B></TD><TD ALIGN="LEFT">DATE</TD></TR><TR><TD ALIGN="LEFT"><B>warehouse_id</B></TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT"><B>product_id</B></TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">on_hand_quantity</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">backorder_quantity</TD><TD ALIGN="LEFT">INT</TD></TR></TABLE>> color="#4A90E2" fillcolor="#E8F4F8" style="rounded,filled"]
	dim_product [label=<<TABLE BORDER="2" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4"><TR><TD BGCOLOR="#7CB342" COLSPAN="2"><B><FONT COLOR="white">dim_product</FONT></B></TD></TR><TR><TD ALIGN="LEFT"><B>product_id</B></TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">sku</TD><TD ALIGN="LEFT">TEXT</TD></TR><TR><TD ALIGN="LEFT">product_name</TD><TD ALIGN="LEFT">TEXT</TD></TR><TR><TD ALIGN="LEFT">category</TD><TD ALIGN="LEFT">TEXT</TD></TR></TABLE>> color="#7CB342" fillcolor="#F0F8E8" style="rounded,filled"]
	dim_supplier [label=<<TABLE BORDER="2" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4"><TR><TD BGCOLOR="#7CB342" COLSPAN="2"><B><FONT COLOR="white">dim_supplier</FONT></B></TD></TR><TR><TD ALIGN="LEFT"><B>supplier_id</B></TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">supplier_name</TD><TD ALIGN="LEFT">TEXT</TD></TR><TR><TD ALIGN="LEFT">region_id (FK)</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">reliability_score</TD><TD ALIGN="LEFT">FLOAT</TD></TR></TABLE>> color="#7CB342" fillcolor="#F0F8E8" style="rounded,filled"]
	dim_warehouse [label=<<TABLE BORDER="2" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4"><TR><TD BGCOLOR="#7CB342" COLSPAN="2"><B><FONT COLOR="white">dim_warehouse</FONT></B></TD></TR><TR><TD ALIGN="LEFT"><B>warehouse_id</B></TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">warehouse_name</TD><TD ALIGN="LEFT">TEXT</TD></TR><TR><TD ALIGN="LEFT">region_id (FK)</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">location_type</TD><TD ALIGN="LEFT">TEXT</TD></TR></TABLE>> color="#7CB342" fillcolor="#F0F8E8" style="rounded,filled"]
	dim_region [label=<<TABLE BORDER="2" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4"><TR><TD BGCOLOR="#7CB342" COLSPAN="2"><B><FONT COLOR="white">dim_region</FONT></B></TD></TR><TR><TD ALIGN="LEFT"><B>region_id</B></TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">region_name</TD><TD ALIGN="LEFT">TEXT</TD></TR></TABLE>> color="#7CB342" fillcolor="#F0F8E8" style="rounded,filled"]
	shipment_stage [label=<<TABLE BORDER="2" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4"><TR><TD BGCOLOR="#4A90E2" COLSPAN="2"><B><FONT COLOR="white">shipment_stage</FONT></B></TD></TR><TR><TD ALIGN="LEFT"><B>shipment_id</B></TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT"><B>stage_type</B></TD><TD ALIGN="LEFT">TEXT</TD></TR><TR><TD ALIGN="LEFT">stage_location_id (FK)</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">arrival_ts</TD><TD ALIGN="LEFT">DATETIME</TD></TR><TR><TD ALIGN="LEFT">departure_ts</TD><TD ALIGN="LEFT">DATETIME</TD></TR></TABLE>> color="#4A90E2" fillcolor="#E8F4F8" style="rounded,filled"]
	disruption_event [label=<<TABLE BORDER="2" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4"><TR><TD BGCOLOR="#4A90E2" COLSPAN="2"><B><FONT COLOR="white">disruption_event</FONT></B></TD></TR><TR><TD ALIGN="LEFT"><B>disruption_id</B></TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">disruption_type</TD><TD ALIGN="LEFT">TEXT</TD></TR><TR><TD ALIGN="LEFT">location_id (FK)</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">start_date</TD><TD ALIGN="LEFT">DATE</TD></TR><TR><TD ALIGN="LEFT">end_date</TD><TD ALIGN="LEFT">DATE</TD></TR></TABLE>> color="#4A90E2" fillcolor="#E8F4F8" style="rounded,filled"]
	inventory_quality [label=<<TABLE BORDER="2" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4"><TR><TD BGCOLOR="#4A90E2" COLSPAN="2"><B><FONT COLOR="white">inventory_quality</FONT></B></TD></TR><TR><TD ALIGN="LEFT"><B>quality_issue_id</B></TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">shipment_id (FK)</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">product_id (FK)</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">warehouse_id (FK)</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">issue_date</TD><TD ALIGN="LEFT">DATE</TD></TR><TR><TD ALIGN="LEFT">quarantined_quantity</TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">rework_required</TD><TD ALIGN="LEFT">BOOL</TD></TR></TABLE>> color="#4A90E2" fillcolor="#E8F4F8" style="rounded,filled"]
	dim_promotion [label=<<TABLE BORDER="2" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4"><TR><TD BGCOLOR="#7CB342" COLSPAN="2"><B><FONT COLOR="white">dim_promotion</FONT></B></TD></TR><TR><TD ALIGN="LEFT"><B>promotion_id</B></TD><TD ALIGN="LEFT">INT</TD></TR><TR><TD ALIGN="LEFT">promotion_name</TD><TD ALIGN="LEFT">TEXT</TD></TR><TR><TD ALIGN="LEFT">start_date</TD><TD ALIGN="LEFT">DATE</TD></TR><TR><TD ALIGN="LEFT">end_date</TD><TD ALIGN="LEFT">DATE</TD></TR></TABLE>> color="#7CB342" fillcolor="#F0F8E8" style="rounded,filled"]
	purchase_order -> dim_supplier [label=supplier_id arrowhead=crow color=black style=dashed]
	purchase_order -> dim_product [label=product_id arrowhead=crow color=black style=dashed]
	purchase_order -> dim_warehouse [label=warehouse_id arrowhead=crow color=black style=dashed]
	customer_order -> dim_region [label=customer_region_id arrowhead=crow color=black style=dashed]
	customer_order_line -> customer_order [label=order_id arrowhead=crow color=black style=dashed]
	customer_order_line -> dim_product [label=product_id arrowhead=crow color=black style=dashed]
	customer_order_line -> dim_promotion [label=promotion_id arrowhead=crow color=black style=dashed]
	shipment -> purchase_order [label=po_id arrowhead=crow color=black style=dashed]
	shipment -> dim_warehouse [label=warehouse_id arrowhead=crow color=black style=dashed]
	inventory_snapshot -> dim_warehouse [label=warehouse_id arrowhead=crow color=black style=dashed]
	inventory_snapshot -> dim_product [label=product_id arrowhead=crow color=black style=dashed]
	dim_supplier -> dim_region [label=region_id arrowhead=crow color=black style=dashed]
	dim_warehouse -> dim_region [label=region_id arrowhead=crow color=black style=dashed]
	shipment_stage -> shipment [label=shipment_id arrowhead=crow color=black style=dashed]
	shipment_stage -> dim_warehouse [label=stage_location_id arrowhead=crow color=black style=dashed]
	disruption_event -> dim_warehouse [label=location_id arrowhead=crow color=black style=dashed]
	inventory_quality -> shipment [label=shipment_id arrowhead=crow color=black style=dashed]
	inventory_quality -> dim_product [label=product_id arrowhead=crow color=black style=dashed]
	inventory_quality -> dim_warehouse [label=warehouse_id arrowhead=crow color=black style=dashed]
}
